{"ast":null,"code":"import { get, send } from 'mulan-lib';\nimport { appid, baseUrl } from './';\nvar wx_login = '/api/loginByWeixinMpCode.xhtml';\nvar wx_userinfo = '/api/getLoginMemberInfo.xhtml';\nvar save_answer = '/api/saveAnswers.xhtml';\nexport var wx_auth = function wx_auth(recomId) {\n  return \"https://open.weixin.qq.com/connect/oauth2/authorize?appid=\".concat(appid, \"&redirect_uri=\").concat(encodeURIComponent(\"\".concat(window.location.protocol).concat(baseUrl).concat(window.location.pathname).concat(window.location.search)), \"&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect\");\n};\nexport var getSession = function getSession(code) {\n  var recomId = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  return get(wx_login, {\n    code: code,\n    recomId: recomId\n  });\n};\nexport var getUserinfo = function getUserinfo(api_u_key) {\n  return get(wx_userinfo, {\n    api_u_key: api_u_key\n  });\n};\nexport var saveAnwser = function saveAnwser(api_u_key, answers) {\n  return get(save_answer, {\n    api_u_key: api_u_key,\n    answers: answers\n  });\n};","map":{"version":3,"sources":["/Users/prd/Documents/_git/_personal/adleading/react-base/src/config/request.js"],"names":["get","send","appid","baseUrl","wx_login","wx_userinfo","save_answer","wx_auth","recomId","encodeURIComponent","window","location","protocol","pathname","search","getSession","code","getUserinfo","api_u_key","saveAnwser","answers"],"mappings":"AAAA,SAASA,GAAT,EAAcC,IAAd,QAA0B,WAA1B;AACA,SAASC,KAAT,EAAgBC,OAAhB,QAA+B,IAA/B;AAEA,IAAMC,QAAQ,GAAG,gCAAjB;AAEA,IAAMC,WAAW,GAAG,+BAApB;AAEA,IAAMC,WAAW,GAAG,wBAApB;AAEA,OAAO,IAAMC,OAAO,GAAG,SAAVA,OAAU,CAAAC,OAAO;AAAA,6EACkCN,KADlC,2BAC0DO,kBAAkB,WAAKC,MAAM,CAACC,QAAP,CAAgBC,QAArB,SAAkCT,OAAlC,SAA8CO,MAAM,CAACC,QAAP,CAAgBE,QAA9D,SAA2EH,MAAM,CAACC,QAAP,CAAgBG,MAA3F,EAD5E;AAAA,CAAvB;AAGP,OAAO,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAACC,IAAD;AAAA,MAAOR,OAAP,uEAAiB,EAAjB;AAAA,SAAwBR,GAAG,CAACI,QAAD,EAAW;AAAEY,IAAAA,IAAI,EAAJA,IAAF;AAAQR,IAAAA,OAAO,EAAPA;AAAR,GAAX,CAA3B;AAAA,CAAnB;AAEP,OAAO,IAAMS,WAAW,GAAG,SAAdA,WAAc,CAAAC,SAAS;AAAA,SAAIlB,GAAG,CAACK,WAAD,EAAc;AAAEa,IAAAA,SAAS,EAATA;AAAF,GAAd,CAAP;AAAA,CAA7B;AAEP,OAAO,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAACD,SAAD,EAAYE,OAAZ;AAAA,SAAwBpB,GAAG,CAACM,WAAD,EAAc;AAAEY,IAAAA,SAAS,EAATA,SAAF;AAAaE,IAAAA,OAAO,EAAPA;AAAb,GAAd,CAA3B;AAAA,CAAnB","sourcesContent":["import { get, send } from 'mulan-lib'\nimport { appid, baseUrl } from './'\n\nconst wx_login = '/api/loginByWeixinMpCode.xhtml'\n\nconst wx_userinfo = '/api/getLoginMemberInfo.xhtml'\n\nconst save_answer = '/api/saveAnswers.xhtml'\n\nexport const wx_auth = recomId =>\n  `https://open.weixin.qq.com/connect/oauth2/authorize?appid=${ appid }&redirect_uri=${ encodeURIComponent(`${ window.location.protocol }${ baseUrl }${ window.location.pathname }${ window.location.search }`) }&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect`\n\nexport const getSession = (code, recomId = '') => get(wx_login, { code, recomId })\n\nexport const getUserinfo = api_u_key => get(wx_userinfo, { api_u_key })\n\nexport const saveAnwser = (api_u_key, answers) => get(save_answer, { api_u_key, answers })\n"]},"metadata":{},"sourceType":"module"}