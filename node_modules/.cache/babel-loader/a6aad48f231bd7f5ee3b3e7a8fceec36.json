{"ast":null,"code":"\"use strict\"; // Mock localStorage\n\n(function () {\n  function createStorage() {\n    var s = {},\n        noopCallback = function noopCallback() {},\n        _itemInsertionCallback = noopCallback;\n\n    Object.defineProperty(s, 'setItem', {\n      get: function get() {\n        return function (k, v) {\n          k = k + '';\n\n          if (!s.hasOwnProperty(k)) {\n            _itemInsertionCallback(s.length);\n          }\n\n          s[k] = v + '';\n        };\n      }\n    });\n    Object.defineProperty(s, 'getItem', {\n      get: function get() {\n        return function (k) {\n          k = k + '';\n\n          if (s.hasOwnProperty(k)) {\n            return s[k];\n          } else {\n            return null;\n          }\n        };\n      }\n    });\n    Object.defineProperty(s, 'removeItem', {\n      get: function get() {\n        return function (k) {\n          k = k + '';\n\n          if (s.hasOwnProperty(k)) {\n            delete s[k];\n          }\n        };\n      }\n    });\n    Object.defineProperty(s, 'clear', {\n      get: function get() {\n        return function () {\n          for (var k in s) {\n            if (s.hasOwnProperty(k)) {\n              delete s[k];\n            }\n          }\n        };\n      }\n    });\n    Object.defineProperty(s, 'length', {\n      get: function get() {\n        return Object.keys(s).length;\n      }\n    });\n    Object.defineProperty(s, \"key\", {\n      value: function value(k) {\n        var key = Object.keys(s)[k];\n        return !key ? null : key;\n      }\n    });\n    Object.defineProperty(s, 'itemInsertionCallback', {\n      get: function get() {\n        return _itemInsertionCallback;\n      },\n      set: function set(v) {\n        if (!v || typeof v != 'function') {\n          v = noopCallback;\n        }\n\n        _itemInsertionCallback = v;\n      }\n    });\n    return s;\n  }\n\n  var global = require(\"global\");\n\n  var window = require(\"global/window\");\n\n  Object.defineProperty(global, 'localStorage', {\n    value: createStorage()\n  });\n  Object.defineProperty(window, 'localStorage', {\n    value: global.localStorage\n  });\n  Object.defineProperty(global, 'sessionStorage', {\n    value: createStorage()\n  });\n  Object.defineProperty(window, 'sessionStorage', {\n    value: global.sessionStorage\n  });\n})();","map":null,"metadata":{},"sourceType":"script"}