{"ast":null,"code":"import \"antd/es/button/style/css\";\nimport _Button from \"antd/es/button\";\nimport \"antd/es/form/style/css\";\nimport _Form from \"antd/es/form\";\nimport \"antd/es/input/style/css\";\nimport _Input from \"antd/es/input\";\nimport \"antd/es/icon/style/css\";\nimport _Icon from \"antd/es/icon\";\nimport _classCallCheck from \"/Users/zhou/Documents/_git/_personal/_adleading/react-base/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/zhou/Documents/_git/_personal/_adleading/react-base/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/zhou/Documents/_git/_personal/_adleading/react-base/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/zhou/Documents/_git/_personal/_adleading/react-base/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/zhou/Documents/_git/_personal/_adleading/react-base/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/zhou/Documents/_git/_personal/_adleading/react-base/src/admin/login/index.js\";\nimport React from 'react';\nimport { browserHistory } from 'react-router';\nimport { get, setStore } from 'mulan-lib';\n\nvar Login =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Login, _React$Component);\n\n  function Login(props) {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Login).call(this, props));\n\n    _this.handleSubmit = function (e) {\n      e.preventDefault();\n\n      _this.props.form.validateFields(function (err, values) {\n        if (!err) {\n          _this.handleLogin(values);\n        }\n      });\n    };\n\n    _this.state = {\n      title: '管理后台'\n    };\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"handleLogin\",\n    value: function handleLogin(values) {\n      var userName = values.userName,\n          password = values.password; // mockLogin start\n\n      if (userName === 'admin' && password === '111111') {\n        setStore('admininfo', {\n          adminKey: 'test'\n        }, 'session');\n        browserHistory.push('/admin');\n      } // mockLogin end\n      // get('/api/adminLogin', { userName, pwd: password }).then(({ code, data, msg }) => {\n      //   if(code === '9999') {\n      //     setStore('admininfo', data, 'session')\n      //\n      //     Message.info('登陆成功', 2, () => {\n      //       browserHistory.push('/admin')\n      //     })\n      //\n      //   } else {\n      //     Message.info(msg, 10)\n      //   }\n      // })\n\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var getFieldDecorator = this.props.form.getFieldDecorator;\n      var title = this.state.title;\n      return React.createElement(\"div\", {\n        style: {\n          width: '300px',\n          height: '200px',\n          margin: '10% auto'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        style: {\n          textAlign: 'center',\n          marginBottom: '20px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, title), React.createElement(_Form, {\n        onSubmit: this.handleSubmit,\n        className: \"login-form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(_Form.Item, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, getFieldDecorator('userName', {\n        rules: [{\n          required: true,\n          message: '请输入账号'\n        }]\n      })(React.createElement(_Input, {\n        prefix: React.createElement(_Icon, {\n          type: \"user\",\n          style: {\n            color: 'rgba(0,0,0,.25)'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60\n          },\n          __self: this\n        }),\n        placeholder: \"\\u8BF7\\u8F93\\u5165\\u8D26\\u53F7\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }))), React.createElement(_Form.Item, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, getFieldDecorator('password', {\n        rules: [{\n          required: true,\n          message: '请输入密码'\n        }]\n      })(React.createElement(_Input, {\n        prefix: React.createElement(_Icon, {\n          type: \"lock\",\n          style: {\n            color: 'rgba(0,0,0,.25)'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67\n          },\n          __self: this\n        }),\n        type: \"password\",\n        placeholder: \"\\u8BF7\\u8F93\\u5165\\u5BC6\\u7801\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }))), React.createElement(_Form.Item, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(_Button, {\n        type: \"primary\",\n        htmlType: \"submit\",\n        style: {\n          width: '100%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, \"\\u767B\\u9646\"))));\n    }\n  }]);\n\n  return Login;\n}(React.Component);\n\nexport default _Form.create({\n  name: 'login'\n})(Login);","map":{"version":3,"sources":["/Users/zhou/Documents/_git/_personal/_adleading/react-base/src/admin/login/index.js"],"names":["React","browserHistory","get","setStore","Login","props","handleSubmit","e","preventDefault","form","validateFields","err","values","handleLogin","state","title","userName","password","adminKey","push","getFieldDecorator","width","height","margin","textAlign","marginBottom","rules","required","message","color","Component","create","name"],"mappings":"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","sourcesContent":["import React from 'react'\nimport {\n  Form, Icon, Input, Button, Checkbox, Message,\n} from 'antd'\nimport { browserHistory } from 'react-router'\nimport { get, setStore } from 'mulan-lib'\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      title: '管理后台'\n    }\n  }\n  handleLogin(values) {\n    const { userName, password } = values\n    // mockLogin start\n    if (userName === 'admin' && password === '111111') {\n      setStore('admininfo', { adminKey: 'test' }, 'session')\n      browserHistory.push('/admin')\n    }\n    // mockLogin end\n\n\n    \n    // get('/api/adminLogin', { userName, pwd: password }).then(({ code, data, msg }) => {\n    //   if(code === '9999') {\n    //     setStore('admininfo', data, 'session')\n    //\n    //     Message.info('登陆成功', 2, () => {\n    //       browserHistory.push('/admin')\n    //     })\n    //\n    //   } else {\n    //     Message.info(msg, 10)\n    //   }\n    // })\n  }\n  handleSubmit = (e) => {\n    e.preventDefault();\n    this.props.form.validateFields((err, values) => {\n      if (!err) {\n        this.handleLogin(values)\n      }\n    });\n  }\n\n  render() {\n    const { getFieldDecorator } = this.props.form\n    const { title } = this.state\n    return (\n      <div style={{ width: '300px', height: '200px', margin: '10% auto' }}>\n        <h5 style={{ textAlign: 'center', marginBottom: '20px' }}>{ title }</h5>\n        <Form onSubmit={this.handleSubmit} className=\"login-form\">\n          <Form.Item>\n            {getFieldDecorator('userName', {\n              rules: [{ required: true, message: '请输入账号' }],\n            })(\n              <Input prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />} placeholder=\"请输入账号\" />\n            )}\n          </Form.Item>\n          <Form.Item>\n            {getFieldDecorator('password', {\n              rules: [{ required: true, message: '请输入密码' }],\n            })(\n              <Input prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />} type=\"password\" placeholder=\"请输入密码\" />\n            )}\n          </Form.Item>\n          <Form.Item>\n            <Button type=\"primary\" htmlType=\"submit\" style={{ width: '100%' }}>\n              登陆\n            </Button>\n          </Form.Item>\n        </Form>\n      </div>\n    )\n  }\n}\n\nexport default Form.create({ name: 'login' })(Login);\n"]},"metadata":{},"sourceType":"module"}