"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var _api=require("./api"),_api2=_interopRequireDefault(_api),_stringifyQuery=require("./stringify-query"),_stringifyQuery2=_interopRequireDefault(_stringifyQuery),_responseType=require("./_/response-type"),_responseType2=_interopRequireDefault(_responseType),_mockFetch=require("./_/mock-fetch"),_mockFetch2=_interopRequireDefault(_mockFetch);exports.default=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=t.headers,u=void 0===i?{}:i,n=t.dataType,o=void 0===n?"json":n;return(0,_mockFetch2.default)()((0,_api2.default)(""+e+(r&&(0,_stringifyQuery2.default)(r))),{headers:u}).then(function(e){return e[(0,_responseType2.default)(o)]()})};